<app-overlay></app-overlay>
<div class="container-fluid b-start">
  <div class="top-filter">
    <h3 class="fw-bolder">Order Report</h3>
  </div>

  <div class="row">
    <div class="col">
      <div class="filter">
        <div class="filter-grp">
          <span class="me-3 fw-bolder">From</span>
          <p-calendar [maxDate]="today" [(ngModel)]="fromSelectedDate" (onSelect)="getTotalOrder()" [disabled]="allTime" [readonlyInput]="true" dateFormat="dd/mm/yy" styleClass="ps-1" inputId="min-max"></p-calendar>
        </div>

        <div class="filter-grp">
          <span class="me-3 fw-bolder">To</span>
          <p-calendar [maxDate]="today" [disabled]="allTime" [(ngModel)]="toSelectedDate" (onSelect)="getTotalOrder()" [minDate]="fromSelectedDate" [readonlyInput]="true" dateFormat="dd/mm/yy" styleClass="ps-1" inputId="min-max"></p-calendar>
        </div>

        <div class="filter-grp p-2" style="margin-bottom: 0.3rem">
          <span class="me-3 fw-bolder">All Time</span>
          <p-checkbox [(ngModel)]="allTime" [styleClass]="'mb-1'" [binary]="true" (onChange)="getTotalOrder()" inputId="binary"></p-checkbox>
        </div>

        <div class="filter-grp">
          <span class="me-3 fw-bolder">Filter By</span>
          <p-dropdown [options]="this.OrderType" [styleClass]="'ps-4'" (onChange)="getTotalOrder()" [(ngModel)]="selectedFilterMode" optionLabel="key" optionValue="value"></p-dropdown>
        </div>

        <div class="filter-grp">
          <span class="me-3 fw-bolder">Payment Type</span>
          <p-dropdown [options]="this.PaymentType" [styleClass]="'ps-4'" (onChange)="getTotalOrder()" [(ngModel)]="selectedPaymentType" optionLabel="key" optionValue="value"></p-dropdown>
        </div>

        <div class="filter-grp" *ngIf="this.rawData">
          <button pButton pRipple type="button" icon="pi pi-download" class="p-button-rounded p-button-outlined" pTooltip="Download Report" (click)="this.downloadReport()"></button>
        </div>

      </div>
    </div>
  </div>

  <div class="card" *ngIf="this.graphicalData">
    <span class="top-filter fw-bolder mb-3">Order Data</span>
    <p-chart type="bar" [data]="this.graphicalData" [options]="basicOptions"></p-chart>
  </div>

</div>
